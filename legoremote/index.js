(async function(e,t){const o=await t("../legoble/hub.js"),n=e.ArgumentType,u=e.BlockType,l=e.Cast,r=e.formatMessage,A=()=>new Promise(e=>window.setTimeout(e,100)),g={BLACK:0,PINK:1,PURPLE:2,BLUE:3,LIGHT_BLUE:4,LIGHT_GREEN:5,GREEN:6,YELLOW:7,ORANGE:8,RED:9,WHITE:10,NONE:-1},i={BUTTON_A:0,BUTTON_B:1},s={NONE:0,PLUS:1,MINUS:-1,STOP:127,ANY:255};e.extensions.register(new(class B{static get EXTENSION_ID(){return"legoremote"}constructor(){this._peripheral=new o(e.vm.runtime,B.EXTENSION_ID,66)}getInfo(){return{id:B.EXTENSION_ID,name:"LEGO Remote",extensionURL:B.extensionURL,blockIconURI:"data:image/png;base64,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",showStatusButton:!0,blocks:[{opcode:"whenButton",text:r({id:"legoremote.whenButton",default:"[PORT] when [BUTTON] button pressed"}),blockType:u.HAT,arguments:{PORT:{type:n.STRING,menu:"PORT",defaultValue:"A"},BUTTON:{type:n.NUMBER,menu:"BUTTON",defaultValue:s.PLUS}}},{opcode:"isButton",text:r({id:"legoremote.isButton",default:"[PORT] [BUTTON] button pressed?"}),blockType:u.BOOLEAN,arguments:{PORT:{type:n.STRING,menu:"PORT",defaultValue:"A"},BUTTON:{type:n.NUMBER,menu:"BUTTON",defaultValue:s.PLUS}}},"---",{opcode:"getButtonA",text:r({id:"legoremote.getButtonA",default:"button A"}),blockType:u.REPORTER},{opcode:"getButtonB",text:r({id:"legoremote.getButtonB",default:"button B"}),blockType:u.REPORTER},"---",{opcode:"setHubLEDColor",text:r({id:"legoremote.setHubLEDColor",default:"set LED color to [COLOR]"}),blockType:u.COMMAND,arguments:{COLOR:{type:n.NUMBER,menu:"LED_COLOR",defaultValue:g.BLUE}}}],menus:{PORT:{acceptReporters:!0,items:["A","B"]},LED_COLOR:{acceptReporters:!0,items:[{text:r({id:"legobluetooth.black",default:"(0) Black"}),value:String(g.BLACK)},{text:r({id:"legobluetooth.pink",default:"(1) Pink"}),value:String(g.PINK)},{text:r({id:"legobluetooth.purple",default:"(2) Purple"}),value:String(g.PURPLE)},{text:r({id:"legobluetooth.blue",default:"(3) Blue"}),value:String(g.BLUE)},{text:r({id:"legobluetooth.lightBlue",default:"(4) Light blue"}),value:String(g.LIGHT_BLUE)},{text:r({id:"legobluetooth.lightGreen",default:"(5) Light green"}),value:String(g.LIGHT_GREEN)},{text:r({id:"legobluetooth.green",default:"(6) Green"}),value:String(g.GREEN)},{text:r({id:"legobluetooth.yellow",default:"(7) Yellow"}),value:String(g.YELLOW)},{text:r({id:"legobluetooth.orange",default:"(8) Orange"}),value:String(g.ORANGE)},{text:r({id:"legobluetooth.red",default:"(9) Red"}),value:String(g.RED)},{text:r({id:"legobluetooth.white",default:"(10) White"}),value:String(g.WHITE)}]},BUTTON:{acceptReporters:!1,items:[{text:r({id:"legoremote.button.plus",default:"plus"}),value:String(s.PLUS)},{text:r({id:"legoremote.button.minus",default:"minus"}),value:String(s.MINUS)},{text:r({id:"legoremote.button.stop",default:"red"}),value:String(s.STOP)},{text:r({id:"legoremote.button.any",default:"any"}),value:String(s.ANY)}]}}}}_validatePorts(e){return e.toUpperCase().replace(/[^AB]/g,"").split("").filter((e,t,o)=>o.indexOf(e)===t).sort()}setHubLEDColor(e){return e=l.toNumber(e.COLOR),this._peripheral.setLEDColor(e).then(A)}whenButton(e){return this.isButton(e)}isButton(e){var t=this._validatePorts(l.toString(e.PORT)).shift(),t=["A","B"].indexOf(t),e=l.toNumber(e.BUTTON),t=this._getSensorValue(t,"button",s.NONE);return e==s.ANY?t!=s.NONE:t==e}getButtonA(){return this._getSensorValue(i.BUTTON_A,"button",s.NONE)}getButtonB(){return this._getSensorValue(i.BUTTON_B,"button",s.NONE)}_getSensorValue(e,t,o){return null!=(e=this._peripheral.inputValue(e,t))?e:o}})),e.extensions.translations({en:{"legoremote.whenButton":"[PORT] when [BUTTON] button pressed","legoremote.isButton":"[PORT] [BUTTON] button pressed?","legoremote.getButtonA":"button A","legoremote.getButtonB":"button B","legoremote.setHubLEDColor":"set LED color to [COLOR]","legoremote.button.plus":"plus","legoremote.button.minus":"minus","legoremote.button.stop":"red","legoremote.button.any":"any"},"zh-cn":{"legoremote.whenButton":"当按下 [PORT] 组 [BUTTON] 按键","legoremote.isButton":"按下 [PORT] 组 [BUTTON] 按键？","legoremote.getButtonA":"A 组按键","legoremote.getButtonB":"B 组按键","legoremote.setHubLEDColor":"将 LED 颜色设为 [COLOR]","legoremote.button.plus":"✚","legoremote.button.minus":"▬","legoremote.button.stop":"红色","legoremote.button.any":"任意"},"zh-tw":{"legoremote.whenButton":"當按下 [PORT] 組 [BUTTON] 按鍵","legoremote.isButton":"按下 [PORT] 組 [BUTTON] 按鍵？","legoremote.getButtonA":"A 組按鍵","legoremote.getButtonB":"B 組按鍵","legoremote.setHubLEDColor":"將 LED 顏色設為 [COLOR]","legoremote.button.plus":"✚","legoremote.button.minus":"▬","legoremote.button.stop":"紅色","legoremote.button.any":"任意"}})})(Scratch,require);