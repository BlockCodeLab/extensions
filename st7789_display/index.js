!async function(){const e=Scratch.ArgumentType,t=Scratch.BlockType;Scratch.Cast;const l=Scratch.dispatch,a=Scratch.formatMessage;Scratch.MathUtil,Scratch.log;const i=await Scratch.require("./files.js");var s=await Scratch.require("./translations.js");Scratch.extensions.translations(s);const d=["rpipico","picoed2"],u=await Scratch.vm.extensionManager.fetchExtensionData(),A={DIRECT:"direct",BUFFER:"buffer"};Scratch.extensions.register(new class{BOARDS_MENU(){var e=d.filter(e=>Scratch.vm.extensionManager.isExtensionLoaded(e)).map(t=>({text:u.find(e=>e.extensionId===t).name,value:t}));return e.unshift({text:a({id:"st7789Display.noBoard",default:"no board"}),value:"-"}),e}get DISPLAY_MODE_MENU(){return[{text:a({id:"st7789Display.direct",default:"direct"}),value:A.DIRECT},{text:a({id:"st7789Display.buffer",default:"buffer"}),value:A.BUFFER}]}constructor(){this.runtime=Scratch.vm.runtime,this.displayMode=A.DIRECT,this._init=this._init.bind(this),this.runtime.on("SELECT_BOARD",this._init)}getInfo(){return{id:"st7789Display",name:a({id:"st7789Display.name",default:"ST7789 Display"}),boards:d,blockIconURI:"data:image/png;base64,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",blocks:[{opcode:"setup",blockType:t.COMMAND,text:a({id:"st7789Display.setup",default:"setup SPI bus [BUS] and pins SCK [SCK] MOSI [MOSI] DC [DC] CS [CS] RST [RST] BL [BL]"}),arguments:{BUS:{type:e.NUMBER,defaultValue:0},SCK:{type:e.NUMBER,defaultValue:-1},MOSI:{type:e.NUMBER,defaultValue:-1},DC:{type:e.NUMBER,defaultValue:-1},CS:{type:e.NUMBER,defaultValue:-1},RST:{type:e.NUMBER,defaultValue:-1},BL:{type:e.NUMBER,defaultValue:-1}}},{opcode:"setMode",blockType:t.COMMAND,text:a({id:"st7789Display.setMode",default:"set display mode [MODE]"}),arguments:{MODE:{type:e.STRING,menu:"displayMode",defaultValue:A.BUFFER}}},"---",{opcode:"clearScreen",blockType:t.COMMAND,text:a({id:"st7789Display.clearScreen",default:"clear screen"})},{opcode:"fillScreen",blockType:t.COMMAND,text:a({id:"st7789Display.fillScreen",default:"set screen color to [COLOR]"}),arguments:{COLOR:{type:e.COLOR}}},"---",{opcode:"setPixel",blockType:t.COMMAND,text:a({id:"st7789Display.setPixel",default:"set pixel x: [X] y: [Y] color to [COLOR]"}),arguments:{X:{type:e.NUMBER,defaultValue:0},Y:{type:e.NUMBER,defaultValue:0},COLOR:{type:e.COLOR}}},{opcode:"setPenColor",blockType:t.COMMAND,text:a({id:"st7789Display.setColor",default:"set pen color to [COLOR]"}),arguments:{COLOR:{type:e.COLOR}}},{opcode:"setFillColor",blockType:t.COMMAND,text:a({id:"st7789Display.setFillColor",default:"set fill color to [COLOR]"}),arguments:{COLOR:{type:e.COLOR}}},"---",{opcode:"drawLine",blockType:t.COMMAND,text:a({id:"st7789Display.drawLine",default:"draw line from x1: [X1] y: [Y1] to x2: [X2] y2: [Y2]"}),arguments:{X1:{type:e.NUMBER,defaultValue:0},Y1:{type:e.NUMBER,defaultValue:0},X2:{type:e.NUMBER,defaultValue:100},Y2:{type:e.NUMBER,defaultValue:100}}},{opcode:"drawRect",blockType:t.COMMAND,text:a({id:"st7789Display.drawRect",default:"draw rectangle at x: [X] y: [Y] of width: [WIDTH] height: [HEIGHT]"}),arguments:{X:{type:e.NUMBER,defaultValue:0},Y:{type:e.NUMBER,defaultValue:0},WIDTH:{type:e.NUMBER,defaultValue:100},HEIGHT:{type:e.NUMBER,defaultValue:50}}},{opcode:"fillRect",blockType:t.COMMAND,text:a({id:"st7789Display.fillRect",default:"fill rectangle at x: [X] y: [Y] of width: [WIDTH] height: [HEIGHT]"}),arguments:{X:{type:e.NUMBER,defaultValue:0},Y:{type:e.NUMBER,defaultValue:0},WIDTH:{type:e.NUMBER,defaultValue:100},HEIGHT:{type:e.NUMBER,defaultValue:50}}},{opcode:"drawCircle",blockType:t.COMMAND,text:a({id:"st7789Display.drawCircle",default:"draw circle at x: [X] y: [Y] of radius: [R]"}),arguments:{X:{type:e.NUMBER,defaultValue:0},Y:{type:e.NUMBER,defaultValue:0},R:{type:e.NUMBER,defaultValue:50}}},{opcode:"fillCircle",blockType:t.COMMAND,text:a({id:"st7789Display.fillCircle",default:"fill circle at x: [X] y: [Y] of radius: [R]"}),arguments:{X:{type:e.NUMBER,defaultValue:0},Y:{type:e.NUMBER,defaultValue:0},R:{type:e.NUMBER,defaultValue:50}}},{opcode:"drawRoundRect",blockType:t.COMMAND,text:a({id:"st7789Display.drawRoundRect",default:"draw round rectangle at x: [X] y: [Y] of width: [WIDTH] height: [HEIGHT] and radius: [R]"}),arguments:{X:{type:e.NUMBER,defaultValue:0},Y:{type:e.NUMBER,defaultValue:0},WIDTH:{type:e.NUMBER,defaultValue:100},HEIGHT:{type:e.NUMBER,defaultValue:50},R:{type:e.NUMBER,defaultValue:5}}},{opcode:"fillRoundRect",blockType:t.COMMAND,text:a({id:"st7789Display.fillRoundRect",default:"fill round rectangle at x: [X] y: [Y] of width: [WIDTH] height: [HEIGHT] and radius: [R]"}),arguments:{X:{type:e.NUMBER,defaultValue:0},Y:{type:e.NUMBER,defaultValue:0},WIDTH:{type:e.NUMBER,defaultValue:100},HEIGHT:{type:e.NUMBER,defaultValue:50},R:{type:e.NUMBER,defaultValue:5}}}],menus:{boards:{acceptReporters:!1,items:"BOARDS_MENU"},displayMode:{acceptReporters:!1,items:this.DISPLAY_MODE_MENU}}}}_init(e){const a=Scratch.vm.extensionManager._loadedExtensions.get(e);l.call(a,"put",Object.entries(i)),this.send=(e,t)=>l.call(a,"send",e,t)}setup(e){this.board}setMode(e){this.board}clearScreen(e){this.board}fillScreen(e){this.board}setPixel(e){this.board}setPenColor(e){this.board}setFillColor(e){this.board}drawLine(e){this.board}drawRect(e){this.board}fillRect(e){this.board}drawCircle(e){this.board}fillCircle(e){this.board}drawRoundRect(e){this.board}fillRoundRect(e){this.board}})}();